INSTALL_PATH=$1

# echo off
set +v

# check for core3
if [ ! -d ${INSTALL_PATH}/include ]
then
    echo "core3 not found in '${INSTALL_PATH}'"
    exit
fi

# create tree on include files
cd src
/usr/bin/find . -iname \*.h -o -iname \*.h | cpio -ov > tree.cpio
cd ..

# copy files to destination
cp src/tree.cpio ${INSTALL_PATH}/include
rm src/tree.cpio

# unpack tree at destination
cd ${INSTALL_PATH}/include/
cpio -id $2 < tree.cpio

# clean up
rm tree.cpio

# finished
echo "engine3 installed to '${INSTALL_PATH}'"
